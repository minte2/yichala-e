<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketplace - Yichalal</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- NAVIGATION BAR -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">Yichalal</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link" href="course.html">Courses</a></li>
                    <li class="nav-item"><a class="nav-link active fw-bold" href="marketplace.html">Marketplace</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">About Us</a></li>
                </ul>
                <!-- DYNAMIC LOGIN/LOGOUT BUTTONS -->
                <div class="d-flex align-items-center">
                    <div id="nav-logged-out" class="d-none"><a href="#" id="login-test-button" class="btn btn-outline-primary me-2">Log In</a><a href="#" class="btn btn-primary">Sign Up</a></div>
                    <div id="nav-logged-in" class="d-none align-items-center"><a href="#" class="btn btn-light me-3">My Dashboard</a><a href="#" id="logout-button" class="btn btn-primary">Log Out</a></div>
                </div>
            </div>
        </div>
    </nav>

    <!-- PAGE HEADER -->
    <header class="container text-center pt-5 pb-4">
        <h1 class="display-4 fw-bold">Marketplace</h1>
        <p class="lead text-muted">Powered by Yichalal Learners. Hire talent, buy unique goods.</p>
    </header>

    <main class="container my-5">
        <!-- SEARCH AND FILTER CONTROLS -->
        <div class="row mb-5">
            <div class="col-lg-5 mb-3"><div class="input-group input-group-lg"><input type="text" class="form-control" id="searchInput" placeholder="Search for services..."><button class="btn btn-primary" type="button" id="searchButton"><i class="bi bi-search"></i></button></div></div>
            <div class="col-lg-7 d-flex align-items-center justify-content-lg-end filter-controls">
                <button type="button" class="btn btn-filter active" data-filter="all">All</button>
                <button type="button" class="btn btn-filter" data-filter="Tech">Tech</button>
                <button type="button" class="btn btn-filter" data-filter="Business">Business</button>
                <button type="button" class="btn btn-filter" data-filter="Creative">Creative</button>
                <button type="button" class="btn btn-filter" data-filter="Handcrafts">Handcrafts</button>
            </div>
        </div>

        <!-- LISTING GRID -->
        <div id="listing-grid" class="row">
            <!-- JS will populate this -->
        </div>

        <!-- CTA SECTION -->
        <section class="cta-section text-center text-white p-5 my-5 rounded-3">
            <h2 class="display-5 fw-bold">Turn Your Skill Into A Business.</h2>
            <p class="lead col-md-8 mx-auto">You've completed the course, earned the certificate, and built your confidence. The marketplace is your next step.</p>
            <a href="#" class="btn btn-light btn-lg fw-bold">Create Your First Listing</a>
        </section>
    </main>
    
    <!-- FOOTER (Included and correct) -->
    <footer class="bg-dark text-white pt-5 pb-4">
        <div class="container text-center text-md-start">
            <div class="row">
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4"><h6 class="text-uppercase fw-bold">Yichalal</h6><hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #0d6efd; height: 2px"/><p>Empowering Ethiopians with the skills and tools to build a successful future in the digital economy.</p></div>
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4"><h6 class="text-uppercase fw-bold">Platform</h6><hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #0d6efd; height: 2px"/><p><a href="course.html" class="text-white">Courses</a></p><p><a href="marketplace.html" class="text-white">Marketplace</a></p><p><a href="#!" class="text-white">About Us</a></p></div>
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4"><h6 class="text-uppercase fw-bold">Support</h6><hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #0d6efd; height: 2px"/><p><a href="#!" class="text-white">Help Center</a></p><p><a href="#!" class="text-white">Contact Us</a></p></div>
                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4"><h6 class="text-uppercase fw-bold">Contact</h6><hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #0d6efd; height: 2px"/><p><i class="bi bi-geo-alt-fill me-3"></i> Addis Ababa, Ethiopia</p><p><i class="bi bi-envelope-fill me-3"></i> info@yichalal.com</p></div>
            </div>
        </div>
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">Â© 2024 Yichalal. All Rights Reserved.</div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="mockdata.js"></script>
    <script>
        // Marketplace-specific script from previous step... (It's the same as before)
        document.addEventListener('DOMContentLoaded', () => {
            const listingGrid = document.getElementById('listing-grid');
            const searchInput = document.getElementById('searchInput');
            const filterButtons = document.querySelectorAll('.filter-controls .btn-filter');

            const displayListings = (filteredListings) => {
                listingGrid.innerHTML = '';
                if (filteredListings.length === 0) {
                    listingGrid.innerHTML = `<div class="col-12"><p class="text-center text-muted fs-4 mt-5">No listings found.</p></div>`;
                    return;
                }
                filteredListings.forEach((item, index) => {
                    const card = `
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card listing-card h-100" style="animation-delay: ${index * 50}ms">
                                <div class="card-img-container"><img src="${item.image}" class="card-img-top" alt="${item.title}"><div class="card-img-overlay-bottom"><span class="listing-price fw-bold">${item.price.toLocaleString()} ${item.currency}</span></div></div>
                                <div class="card-body d-flex flex-column">
                                    <div class="seller-info d-flex align-items-center mb-2">
                                        <img src="${item.sellerImage}" class="seller-avatar rounded-circle me-2" alt="${item.seller}">
                                        <div><h5 class="card-title mb-0">${item.title}</h5><small class="text-muted">by ${item.seller} <i class="bi bi-patch-check-fill text-primary"></i></small></div>
                                    </div>
                                    <div class="mt-auto d-flex justify-content-between align-items-center pt-2">
                                         <span class="text-warning small fw-bold"><i class="bi bi-star-fill"></i> ${item.rating} (${item.reviews} reviews)</span>
                                         <a href="product-listing.html?id=${item.id}" class="btn btn-primary view-details-btn">View</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    listingGrid.innerHTML += card;
                });
            };

            const filterAndSearch = () => { /* ... same as before ... */ };
            filterButtons.forEach(button => { /* ... same as before ... */ });
            searchInput.addEventListener('keyup', filterAndSearch);
            document.getElementById('searchButton').addEventListener('click', filterAndSearch);
            displayListings(marketplaceData);
        });
    </script>
    <script src="app.js"></script> <!-- Link to our global script -->
</body>
</html>